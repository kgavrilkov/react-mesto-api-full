{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 13:28:04 GMT+0300 (Москва, стандартное время)","process":{"pid":65287,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":49971200,"heapTotal":21176320,"heapUsed":19756552,"external":19796044,"arrayBuffers":18296654}},"os":{"loadavg":[1.71484375,1.77197265625,1.8232421875],"uptime":4412320},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/signin","headers":{"host":"localhost:3000","connection":"keep-alive","cache-control":"max-age=0","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","sec-fetch-site":"same-origin","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9","if-none-match":"W/\"70d-Cs3BWkQlD4Bgj17rStmQG0g+9vQ\""},"method":"GET","httpVersion":"1.1","originalUrl":"/signin","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 19:02:19 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":49274880,"heapTotal":21176320,"heapUsed":19269448,"external":19770844,"arrayBuffers":18271454}},"os":{"loadavg":[2.37451171875,1.9697265625,1.9130859375],"uptime":4432370},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/signin","headers":{"host":"localhost:3000","connection":"keep-alive","cache-control":"max-age=0","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","sec-fetch-site":"same-origin","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9","if-none-match":"W/\"70d-Cs3BWkQlD4Bgj17rStmQG0g+9vQ\""},"method":"GET","httpVersion":"1.1","originalUrl":"/signin","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 19:02:54 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":49836032,"heapTotal":21438464,"heapUsed":19839544,"external":19782311,"arrayBuffers":18274226}},"os":{"loadavg":[2.09765625,1.94091796875,1.90478515625],"uptime":4432405},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/signin","headers":{"host":"localhost:3000","connection":"keep-alive","cache-control":"max-age=0","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","sec-fetch-site":"same-origin","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9","if-none-match":"W/\"70d-Cs3BWkQlD4Bgj17rStmQG0g+9vQ\""},"method":"GET","httpVersion":"1.1","originalUrl":"/signin","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 19:03:23 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":50065408,"heapTotal":21438464,"heapUsed":20089728,"external":19792789,"arrayBuffers":18276050}},"os":{"loadavg":[1.9033203125,1.912109375,1.89599609375],"uptime":4432434},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/signin","headers":{"host":"localhost:3000","connection":"keep-alive","cache-control":"max-age=0","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","sec-fetch-site":"same-origin","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9","if-none-match":"W/\"70d-Cs3BWkQlD4Bgj17rStmQG0g+9vQ\""},"method":"GET","httpVersion":"1.1","originalUrl":"/signin","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 19:05:16 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":49729536,"heapTotal":21438464,"heapUsed":19730464,"external":19781532,"arrayBuffers":18282102}},"os":{"loadavg":[1.837890625,1.87890625,1.88330078125],"uptime":4432547},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/signin","headers":{"host":"localhost:3000","connection":"keep-alive","cache-control":"max-age=0","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","sec-fetch-site":"same-origin","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9","if-none-match":"W/\"70d-Cs3BWkQlD4Bgj17rStmQG0g+9vQ\""},"method":"GET","httpVersion":"1.1","originalUrl":"/signin","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 19:05:18 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":49885184,"heapTotal":21438464,"heapUsed":19897248,"external":19790184,"arrayBuffers":18282102}},"os":{"loadavg":[1.7705078125,1.8642578125,1.8779296875],"uptime":4432549},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/signin","headers":{"host":"localhost:3000","connection":"keep-alive","cache-control":"max-age=0","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","sec-fetch-site":"same-origin","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9","if-none-match":"W/\"70d-Cs3BWkQlD4Bgj17rStmQG0g+9vQ\""},"method":"GET","httpVersion":"1.1","originalUrl":"/signin","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 19:24:12 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":44535808,"heapTotal":21962752,"heapUsed":20083992,"external":19797324,"arrayBuffers":18297894}},"os":{"loadavg":[2.32568359375,2.15283203125,1.96240234375],"uptime":4433683},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/signin","headers":{"host":"localhost:3000","connection":"keep-alive","cache-control":"max-age=0","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","sec-fetch-site":"same-origin","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9","if-none-match":"W/\"70d-Cs3BWkQlD4Bgj17rStmQG0g+9vQ\""},"method":"GET","httpVersion":"1.1","originalUrl":"/signin","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 19:25:58 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":44929024,"heapTotal":21962752,"heapUsed":20492032,"external":19812365,"arrayBuffers":18304278}},"os":{"loadavg":[1.9130859375,2.06982421875,1.95068359375],"uptime":4433789},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"GET","access-control-request-headers":"authorization","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signin","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 19:25:58 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":45076480,"heapTotal":21962752,"heapUsed":20656168,"external":19820911,"arrayBuffers":18304278}},"os":{"loadavg":[1.9130859375,2.06982421875,1.95068359375],"uptime":4433789},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/cards","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"GET","access-control-request-headers":"authorization","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signin","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/cards","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 19:26:43 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":44470272,"heapTotal":21962752,"heapUsed":20006016,"external":19807114,"arrayBuffers":18290598}},"os":{"loadavg":[1.8798828125,2.04296875,1.94482421875],"uptime":4433834},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/signup","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"POST","access-control-request-headers":"content-type","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signup","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/signup","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 19:47:54 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":44580864,"heapTotal":21962752,"heapUsed":20842208,"external":19823452,"arrayBuffers":18324022}},"os":{"loadavg":[2.2744140625,2.2041015625,2.08056640625],"uptime":4435105},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"GET","access-control-request-headers":"authorization","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signup","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 19:47:54 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":43945984,"heapTotal":21962752,"heapUsed":20007424,"external":19804029,"arrayBuffers":18296054}},"os":{"loadavg":[2.2744140625,2.2041015625,2.08056640625],"uptime":4435105},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/cards","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"GET","access-control-request-headers":"authorization","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signup","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/cards","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 19:59:40 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":44986368,"heapTotal":21962752,"heapUsed":20547512,"external":19822828,"arrayBuffers":18323398}},"os":{"loadavg":[1.919921875,1.98779296875,2.04150390625],"uptime":4435811},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"GET","access-control-request-headers":"authorization","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signup","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 19:59:40 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":45125632,"heapTotal":21962752,"heapUsed":20697608,"external":19831373,"arrayBuffers":18323398}},"os":{"loadavg":[1.919921875,1.98779296875,2.04150390625],"uptime":4435811},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/cards","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"GET","access-control-request-headers":"authorization","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signup","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/cards","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 20:00:29 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":44564480,"heapTotal":21962752,"heapUsed":20099472,"external":19806108,"arrayBuffers":18306678}},"os":{"loadavg":[2.095703125,2.01904296875,2.048828125],"uptime":4435860},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"GET","access-control-request-headers":"authorization","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signup","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 20:00:29 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":44695552,"heapTotal":21962752,"heapUsed":20249184,"external":19814651,"arrayBuffers":18306678}},"os":{"loadavg":[2.095703125,2.01904296875,2.048828125],"uptime":4435860},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/cards","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"GET","access-control-request-headers":"authorization","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signup","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/cards","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 20:18:44 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":28848128,"heapTotal":22224896,"heapUsed":20685816,"external":19831932,"arrayBuffers":18332502}},"os":{"loadavg":[2.5634765625,2.74755859375,2.47119140625],"uptime":4436955},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"GET","access-control-request-headers":"authorization","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signup","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Tue Apr 27 2021 20:18:44 GMT+0300 (Москва, стандартное время)","process":{"pid":66452,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":30113792,"heapTotal":22224896,"heapUsed":20840456,"external":19840478,"arrayBuffers":18332502}},"os":{"loadavg":[2.5634765625,2.74755859375,2.47119140625],"uptime":4436955},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/cards","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"GET","access-control-request-headers":"authorization","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signup","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/cards","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{},"level":"error","message":"uncaughtException: CorsError is not defined\nReferenceError: CorsError is not defined\n    at origin (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js:34:20)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/query.js:45:5)","stack":"ReferenceError: CorsError is not defined\n    at origin (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js:34:20)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/query.js:45:5)","exception":true,"date":"Tue Apr 27 2021 22:30:09 GMT+0300 (Москва, стандартное время)","process":{"pid":67955,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":48693248,"heapTotal":21176320,"heapUsed":19524688,"external":19787152,"arrayBuffers":18274346}},"os":{"loadavg":[1.55224609375,1.921875,1.93017578125],"uptime":4444840},"trace":[{"column":20,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js","function":"origin","line":34,"method":null,"native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js","function":null,"line":219,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js","function":"optionsCallback","line":199,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js","function":"corsMiddleware","line":204,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/init.js","function":"expressInit","line":40,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/query.js","function":"query","line":45,"method":null,"native":false}],"req":{"url":"/signin","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"POST","access-control-request-headers":"content-type","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signin","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/signin","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{},"level":"error","message":"uncaughtException: CorsError is not defined\nReferenceError: CorsError is not defined\n    at origin (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js:34:20)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/query.js:45:5)","stack":"ReferenceError: CorsError is not defined\n    at origin (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js:34:20)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/query.js:45:5)","exception":true,"date":"Wed Apr 28 2021 00:09:24 GMT+0300 (Москва, стандартное время)","process":{"pid":68430,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":47955968,"heapTotal":21176320,"heapUsed":19710352,"external":19792016,"arrayBuffers":18279210}},"os":{"loadavg":[2.04150390625,2.3515625,2.267578125],"uptime":4450795},"trace":[{"column":20,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js","function":"origin","line":34,"method":null,"native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js","function":null,"line":219,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js","function":"optionsCallback","line":199,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js","function":"corsMiddleware","line":204,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/init.js","function":"expressInit","line":40,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/query.js","function":"query","line":45,"method":null,"native":false}],"req":{"url":"/users/me","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"GET","access-control-request-headers":"authorization","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signin","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/users/me","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{},"level":"error","message":"uncaughtException: CorsError is not defined\nReferenceError: CorsError is not defined\n    at origin (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js:34:20)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/query.js:45:5)","stack":"ReferenceError: CorsError is not defined\n    at origin (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js:34:20)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/query.js:45:5)","exception":true,"date":"Wed Apr 28 2021 00:09:24 GMT+0300 (Москва, стандартное время)","process":{"pid":68430,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":48357376,"heapTotal":21176320,"heapUsed":19985152,"external":19800420,"arrayBuffers":18279234}},"os":{"loadavg":[2.04150390625,2.3515625,2.267578125],"uptime":4450795},"trace":[{"column":20,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js","function":"origin","line":34,"method":null,"native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js","function":null,"line":219,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js","function":"optionsCallback","line":199,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/cors/lib/index.js","function":"corsMiddleware","line":204,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/init.js","function":"expressInit","line":40,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/middleware/query.js","function":"query","line":45,"method":null,"native":false}],"req":{"url":"/cards","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"GET","access-control-request-headers":"authorization","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signin","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/cards","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Wed Apr 28 2021 00:10:31 GMT+0300 (Москва, стандартное время)","process":{"pid":68430,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":48697344,"heapTotal":21176320,"heapUsed":20334024,"external":19813010,"arrayBuffers":18283490}},"os":{"loadavg":[1.9287109375,2.22314453125,2.22216796875],"uptime":4450862},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/cards","headers":{"host":"localhost:3000","connection":"keep-alive","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9","if-none-match":"W/\"70d-Cs3BWkQlD4Bgj17rStmQG0g+9vQ\""},"method":"GET","httpVersion":"1.1","originalUrl":"/cards","query":{}}},"level":"error","message":"middlewareError"}
{"meta":{"error":{"statusCode":401},"level":"error","message":"uncaughtException: Необходима авторизация\nError: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","stack":"Error: Необходима авторизация\n    at auth (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js:10:11)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:275:10)\n    at jsonParser (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js:110:7)\n    at Layer.handle [as handle_request] (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:317:13)\n    at /Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js:284:7","exception":true,"date":"Wed Apr 28 2021 00:33:03 GMT+0300 (Москва, стандартное время)","process":{"pid":68567,"uid":501,"gid":20,"cwd":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend","execPath":"/usr/local/bin/node","version":"v14.15.1","argv":["/usr/local/bin/node","/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/app.js"],"memoryUsage":{"rss":47853568,"heapTotal":21176320,"heapUsed":19424552,"external":19785328,"arrayBuffers":18272522}},"os":{"loadavg":[2.3994140625,2.1796875,2.0537109375],"uptime":4452214},"trace":[{"column":11,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/middlewares/auth.js","function":"auth","line":10,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":9,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"next","line":275,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/body-parser/lib/types/json.js","function":"jsonParser","line":110,"method":null,"native":false},{"column":5,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"/Users/kirillgavrilkov/dev/react-mesto-api-full/backend/node_modules/express/lib/router/index.js","function":null,"line":284,"method":null,"native":false}],"req":{"url":"/signup","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"POST","access-control-request-headers":"content-type","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.41 YaBrowser/21.2.0.1122 Yowser/2.5 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/signup","accept-encoding":"gzip, deflate, br","accept-language":"ru,en;q=0.9"},"method":"OPTIONS","httpVersion":"1.1","originalUrl":"/signup","query":{}}},"level":"error","message":"middlewareError"}
